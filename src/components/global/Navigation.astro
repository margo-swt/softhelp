---
let currentPath = Astro.url.pathname;
if (currentPath.endsWith('/')) {
  currentPath = currentPath.slice(0, -1);
}
if (currentPath === '') {
  currentPath = '/';
}
---

<div class="fixed inset-x-0 top-2 lg:top-8 z-50">
  <div class="mx-auto px-8 lg:max-w-2xl">
    <div
        class="flex flex-col backdrop-blur-xl backdrop-filter bg-onyx-900/60 border border-onyx-800 md:flex-row md:items-center md:justify-between mx-auto p-2 relative lg:rounded-2xl rounded-xl shadow-massive w-full"
        x-data="{ open: false }">
      <button
          @click="open = !open"
          class="text-zinc-400 inline-flex focus:outline-none focus:text-white hover:text-accent-300 items-center justify-center md:hidden p-2"
      ><svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
      ><path
          d="M4 6h16M4 12h16M4 18h16"
          :class="{'hidden': open, 'inline-flex': !open }"
          class="inline-flex"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"></path><path
          d="M6 18L18 6M6 6l12 12"
          :class="{'hidden': !open, 'inline-flex': open }"
          class="hidden"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"></path></svg
      ></button
      >
      <nav
          class="flex-col md:flex-row flex-grow hidden justify-center md:flex md:items-end md:py-0 py-12"
          :class="{'flex': open, 'hidden': !open}">
        <a
            class={`inline-flex items-center font-sans pl-2 justify-center w-full relative ${currentPath === '/' ? 'text-white' : 'text-[#908caa] hover:text-[#908caa]/50'}`}
            href="/"
            style="font-size: 27px; top: -5px;">
          <img src="/logos/softhelp-cropped.svg" class={`h-6 w-6 mr-2 ${currentPath === '/trainings' ? 'filter-white' : 'filter-gray'}`} alt="Graduation Hat" />
          SoftHelp
        </a>
        <div class="border-l border-onyx-800 h-12 mx-4"></div>
        <a
            class={`inline-flex items-center font-sans pl-2 justify-center w-full relative ${currentPath === '/trainings' ? 'text-white' : 'text-[#908caa] hover:text-[#908caa]/50'}`}
            href="/trainings"
            style="font-size: 27px; top: -5px;">
          <img src="/logos/graduate.png" class={`h-6 w-6 mr-2 ${currentPath === '/trainings' ? 'filter-white' : 'filter-gray'}`} alt="Graduation Hat" />
          Trainings
        </a>
        <div class="border-l border-onyx-800 h-12 mx-4"></div>
        <a
            class={`inline-flex items-center font-sans pl-2 justify-center w-full relative ${currentPath === '/blog/blog' ? 'text-white' : 'text-[#908caa] hover:text-[#908caa]/50'}`}
            href="/blog/blog"
            style="font-size: 27px; top: -5px;">
          <img src="/logos/blog.png" class={`h-6 w-6 mr-2 ${currentPath === '/blog/blog' ? 'filter-white' : 'filter-gray'}`} alt="Blogs Icon" />
          Blogs
        </a>
      </nav>
    </div>
  </div>
</div>

<style>
  .filter-white {
    filter: brightness(1);
  }
  .filter-gray {
    filter: brightness(0.5);
  }
</style>